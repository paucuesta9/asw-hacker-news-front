(function(t){function e(e){for(var n,i,o=e[0],c=e[1],u=e[2],m=0,p=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&p.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},s={app:0},a=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"02ed":function(t,e,r){},"284b":function(t,e,r){},"29fc":function(t,e,r){"use strict";r("7896")},"2b8c":function(t,e,r){},"357f":function(t,e,r){},"358a":function(t,e,r){"use strict";r("357f")},"36b0":function(t,e,r){"use strict";r("f1a8")},3780:function(t,e,r){},4585:function(t,e,r){"use strict";r("fbdf")},"47e2":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("a026"),s=r("2f62"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("center",[r("table",{attrs:{id:"hnmain",border:"0",cellpadding:"0",cellspacing:"0",width:"85%",bgcolor:"#f6f6ef"}},[r("tbody",[r("AppHeader"),r("tr",{staticStyle:{height:"10px"},attrs:{id:"pagespace",title:""}}),r("tr",[r("td",[r("router-view")],1)]),r("AppFooter")],1)])])},i=[],o=r("1da1"),c=(r("96cf"),r("bc3a")),u=r.n(c),l=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("25f0"),function(t,e,r){var n=!1,s=!1,a=!1;switch(t){case"GET_POSTS":return n=r+"/posts",s=new URL(n),e&&e.user_id&&s.searchParams.append("user_id",e.user_id),e&&e.order_by&&s.searchParams.append("order_by",e.order_by),a={method:"GET",url:s.toString()},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"GET_POST":if(e&&e.post_id)return n=r+"/posts/"+e.post_id,a={method:"GET",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));break;case"NEW_POST":return n=r+"/posts",a={method:"POST",url:n,data:e},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"VOTE_POST":return n=r+"/posts/"+e+"/vote",a={method:"POST",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"UNVOTE_POST":return n=r+"/posts/"+e+"/vote",a={method:"DELETE",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"GET_VOTED_POSTS":return n=r+"/posts/upvoted",a={method:"GET",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));default:throw new Error("Unsupported Data Provider request type ".concat(t))}}),m=function(t,e,r){switch(t){case"GET_COMMENTS":var n=r+"/comments",s=new URL(n);e&&e.user_id&&s.searchParams.append("user_id",e.user_id),e&&e.post_id&&s.searchParams.append("post_id",e.post_id);var a={method:"GET",url:s.toString()};return u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"GET_COMMENT":if(e&&e.comment_id)return n=r+"/comments/"+e.comment_id,a={method:"GET",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"NEW_COMMENT":return n=r+"/comments",a={method:"POST",url:n,data:e},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"GET_VOTED_COMMENTS":return n=r+"/comments/upvoted",s=new URL(n),a={method:"GET",url:s.toString()},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"VOTE_COMMENT":return n=r+"/comments/"+e+"/vote",a={method:"POST",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"UNVOTE_COMMENT":return n=r+"/comments/"+e+"/vote",a={method:"DELETE",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));default:throw new Error("Unsupported Data Provider request type ".concat(t))}},p=function(t,e,r){var n=!1,s=!1,a=!1;switch(t){case"GET_REPLIES":return n=r+"/replies",s=new URL(n),e&&e.parent_id&&s.searchParams.append("parent_id",e.parent_id),e&&e.parent_type&&s.searchParams.append("parent_type",e.parent_type),a={method:"GET",url:s.toString()},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"GET_REPLY":if(e&&e.reply_id)return n=r+"/replies/"+e.reply_id,a={method:"GET",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));break;case"GET_POST":if(e&&e.reply_id)return n=r+"/posts",s=new URL(n),s.searchParams.append("reply_id",e.reply_id),a={method:"GET",url:s.toString()},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));break;case"NEW_REPLY":return n=r+"/replies",a={method:"POST",url:n,data:e},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"VOTE_REPLY":return n=r+"/replies/"+e+"/vote",a={method:"POST",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"UNVOTE_REPLY":return n=r+"/replies/"+e+"/vote",a={method:"DELETE",url:n},u()(a).then((function(t){return t.data})).catch((function(t){console.log(t)}));default:throw new Error("Unsupported Data Provider request type ".concat(t))}},d=function(t,e,r){var n=!1,s=!1;switch(t){case"GET_USER":return n=r+"/users/"+e,s={method:"GET",url:n},u()(s).then((function(t){return t.data})).catch((function(t){console.log(t)}));case"PUT_USER":return n=r+"/users",s={method:"PUT",url:n,data:e},u()(s).then((function(t){return t.data})).catch((function(t){console.log(t)}));default:throw new Error("Unsupported Data Provider request type ".concat(t))}},_="https://hacker-news-fib.herokuapp.com/api/v1",h=null,f=function(t,e,r){switch(t){case"POSTS":h=l(e,r,_);break;case"USERS":h=d(e,r,_);break;case"COMMENTS":h=m(e,r,_);break;case"REPLIES":h=p(e,r,_);break;default:throw new Error("Unsupported Data Provider type ".concat(t))}return h},v=["115878340549743171352","113818567039641986985"];function g(t){return S.apply(this,arguments)}function S(){return S=Object(o["a"])(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=null==e?2:e,u.a.defaults.headers.common["X-API-KEY"]=v[r-1],t.next=4,f("USERS","GET_USER",r).then((function(t){return t}));case 4:return n=t.sent,n.apiKey=v[r-1],localStorage.setItem("user",JSON.stringify(n)),t.abrupt("return",JSON.parse(localStorage.getItem("user")));case 8:case"end":return t.stop()}}),t)}))),S.apply(this,arguments)}function b(){return JSON.parse(localStorage.getItem("user"))}var y={getUser:b,setUser:g},E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",{staticStyle:{"background-color":"#ff6600"}},[r("table",{staticStyle:{border:"0",width:"100%",padding:"2px"}},[r("tbody",[r("tr",[t._m(0),r("td",{staticStyle:{"line-height":"12pt",height:"10px"}},[r("span",{staticClass:"pagetop"},[t._m(1),r("a",{attrs:{href:"/newest"}},[t._v("new")]),t._v(" | "),r("a",{attrs:{href:"/threads"}},[t._v("threads")]),t._v(" | "),r("a",{attrs:{href:"/ask"}},[t._v("ask")]),t._v(" | "),r("a",{attrs:{href:"/submit"}},[t._v("submit")]),"UpvotedPost"==this.$route.name?r("span",[t._v(" | "),r("a",{attrs:{href:"/uposts"}},[t._v("upvoted")])]):t._e()])]),r("td",{staticStyle:{"text-align":"right","padding-right":"4px"}},[r("span",{staticStyle:{color:"black","font-weight":"700"}},[t._v("User: ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.userSelectedId,expression:"userSelectedId"}],on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.userSelectedId=e.target.multiple?r:r[0]},t.setNewUser]}},t._l(t.usersSelectOptions,(function(e){return r("option",{domProps:{value:e.id}},[t._v(" "+t._s(e.username))])})),0),r("span",[t._v(" | "),r("a",{attrs:{href:"/users/"+t.user.id}},[t._v("account")])])])])])])])])},T=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{staticStyle:{width:"18px","padding-right":"4px"}},[n("a",{attrs:{href:"/"}},[n("img",{staticStyle:{border:"1px white solid"},attrs:{src:r("f274"),width:"18",height:"18"}})])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b",{staticClass:"hnname"},[r("a",{attrs:{href:"/"}},[t._v("Hacker News")])])}],C={name:"AppHeader",data:function(){return{user:JSON.parse(localStorage.getItem("user")),usersSelectOptions:[{id:1,username:"Pau Cuesta"},{id:2,username:"Joan Vilarrasa"}]}},methods:{setNewUser:function(){y.setUser(this.userSelectedId)}},beforeMount:function(){this.userSelectedId=null==this.user?2:this.user.id}},O=C,x=(r("77b5"),r("2877")),P=Object(x["a"])(O,E,T,!1,null,null,null),w=P.exports,R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",[r("img",{attrs:{src:"s.gif",height:"10",width:"0"}}),t._m(0),r("br"),r("center",[r("span",{staticClass:"yclinks"},[r("a",{attrs:{href:""}},[t._v("Guidelines")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("FAQ")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Lists")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("API")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Security")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Legal")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Apply to YC")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Contact")])]),r("br"),r("br"),r("form",{attrs:{method:"get",action:"//hn.algolia.com/"}},[t._v("Search: "),r("input",{attrs:{type:"text",name:"q",value:"",size:"17",autocorrect:"off",spellcheck:"false",autocapitalize:"off",autocomplete:"false"}})])])],1)])},M=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{attrs:{width:"100%",cellspacing:"0",cellpadding:"1"}},[r("tbody",[r("tr",[r("td",{staticStyle:{"background-color":"#ff6600"}})])])])}],A={name:"AppFooter",data:function(){return{user:localStorage.getItem("user")}},methods:{}},k=A,N=(r("7c0d"),Object(x["a"])(k,R,M,!1,null,null,null)),U=N.exports,G={components:{AppHeader:w,AppFooter:U},data:function(){return{user:JSON.parse(localStorage.getItem("user"))}},methods:{},beforeMount:function(){y.setUser(null==this.user?null:this.user.id)}},I=G,j=(r("5c0b"),Object(x["a"])(I,a,i,!1,null,null,null)),L=j.exports,F=r("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"itemlist",staticStyle:{border:"0"},attrs:{cellpadding:"0"}},[n("tbody",t._l(this.posts,(function(e,s){return n("div",[n("tr",{staticClass:"athing",attrs:{id:e.id}},[n("td",{staticClass:"title",staticStyle:{"align-self":"right"}},[n("span",{staticClass:"rank"},[t._v(t._s(s)+".")])]),1==e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.unvotePost(e)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.votePost(e)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"title"},["ask"==e.typePost?n("a",{attrs:{href:"/posts/"+e.id}},[t._v(t._s(e.title))]):t._e(),"ask"!=e.typePost?n("a",{attrs:{href:e.url}},[t._v(t._s(e.title)),n("span",{staticClass:"sitebit comhead"},[t._v(" ("),n("span",{staticClass:"sitestr"},[t._v(t._s(e.url))]),t._v(")")])]):t._e()])]),n("tr",[n("td",{attrs:{colspan:"2"}}),n("td",{staticClass:"subtext"},[n("span",{staticClass:"score",attrs:{id:"score_"+e.id}},[t._v(t._s(e.points)+" Point"),1!=e.points?n("span",[t._v("s")]):t._e()]),t._v(" by "),n("a",{attrs:{href:"/users/"+e.user_id}},[t._v(t._s(e.user_username))]),t._v(" "),n("span",{staticStyle:{"margin-right":"0.2rem"}}),n("span",{staticClass:"age"},[t._v(t._s(e.time_elapsed))]),t._v(" "),n("span",{attrs:{id:"unv_"+e.id}}),t._v(" | "),n("a",{attrs:{href:"/posts/"+e.id}},[0==e.num_comments?n("span",[t._v("discuss")]):t._e(),0!=e.num_comments?n("span",[t._v(t._s(e.num_comments)+" comment"),1!=e.num_comments?n("span",[t._v("s")]):t._e()]):t._e()])])]),n("tr",{staticClass:"spacer",staticStyle:{height:"5px"}})])})),0)])},D=[];r("d81d"),r("7db0"),r("b0c0"),r("4de4");function V(t){var e=(new Date).getTime(),r=new Date(t).getTime(),n=e-r,s=parseInt(n/864e5);if(s>0)return s+" day"+(1!=s?"s":"")+" ago";var a=parseInt(n/36e5);if(a>0)return a+" hour"+(1!=a?"s":"")+" ago";var i=parseInt(n/6e4);return i+" minute"+(1!=i?"s":"")+" ago"}var Y={name:"Home",data:function(){return{user:JSON.parse(localStorage.getItem("user")),posts:[]}},methods:{getPosts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("POSTS","GET_POSTS").then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("POSTS","GET_VOTED_POSTS").then((function(t){return t}));case 5:return r=t.sent,t.next=8,Promise.all(e.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.voted=void 0!=r.find((function(t){return t.id==e.id})),e.typePost=""==e.url?"ask":"link",e.time_elapsed=V(e.created_at),t.next=5,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 5:return e.user_username=t.sent,t.next=8,f("COMMENTS","GET_COMMENTS",{post_id:e.id}).then((function(t){return t.length}));case 8:e.num_comments=t.sent;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:"Ask"==this.$route.name&&(e=e.filter((function(t){return"ask"==t.typePost}))),"Newest"==this.$route.name?e.sort(J):e.sort(K),this.posts=e;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),votePost:function(t){var e=this;f("POSTS","VOTE_POST",t.id).then((function(t){e.getPosts()}))},unvotePost:function(t){var e=this;f("POSTS","UNVOTE_POST",t.id).then((function(t){e.getPosts()}))}},mounted:function(){this.getPosts()}};function J(t,e){return new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}function K(t,e){return e.points-t.points}var q=Y,H=(r("d40d"),Object(x["a"])(q,$,D,!1,null,null,null)),Q=H.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{staticClass:"formContainer",on:{submit:t.submitFormData}},[r("div",[r("p",[t._v(t._s(t.error))])]),r("div",{staticClass:"fieldContainer",staticStyle:{"margin-bottom":"0.3rem"}},[r("label",{staticClass:"formLabel",attrs:{for:"title"}},[t._v("Title ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",id:"title",name:"title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),r("br")]),r("div",{staticClass:"fieldContainer"},[r("label",{staticClass:"formLabel",attrs:{for:"title"}},[t._v("Url ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],attrs:{type:"url",id:"url",name:"url"},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),r("br")]),t._m(0),r("div",{staticClass:"fieldContainer",staticStyle:{"margin-bottom":"0.3rem"}},[r("label",{staticClass:"formLabel"},[t._v("Text ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{id:"text",name:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._m(1),r("p",{staticStyle:{"padding-left":"30px"}},[t._v("Leave url blank to submit a question for discussion. If there is no url, the text (if any) will appear at the top of the thread.")])])])},B=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"formOr"},[r("b",[t._v("or")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{"margin-left":"2rem"}},[r("input",{attrs:{type:"submit",value:"submit"}})])}],z={name:"Submit",data:function(){return{user:localStorage.getItem("user"),title:"",url:"",text:"",error:""}},methods:{submitFormData:function(t){var e=this;if(t.preventDefault(),""!=this.title)if(""==this.url&&""==this.text)this.error="You need to fill either text or url fields";else{this.error="";var r={title:this.title,url:this.url,text:this.text};f("POSTS","NEW_POST",r).then((function(){e.$router.push({name:"Home"})})).catch((function(t){e.error=t}))}else this.error="The post needs a title!"}}},X=z,Z=(r("c6cde"),Object(x["a"])(X,W,B,!1,null,"4244b500",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"fatitem",staticStyle:{border:"0"}},[n("tr",{staticClass:"athing"},[t._m(0),1==t.post.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.unvotePost(t.post)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=t.post.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.votePost(t.post)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"title"},["ask"==t.post.typePost?n("a",{attrs:{href:"/posts/"+t.post.id}},[t._v(t._s(t.post.title))]):t._e(),"ask"!=t.post.typePost?n("a",{attrs:{href:t.post.url}},[t._v(t._s(t.post.title)),n("span",{staticClass:"sitebit comhead"},[t._v("("),n("span",{staticClass:"sitestr"},[t._v(t._s(t.post.url))]),t._v(")")])]):t._e()])]),n("tr",[n("td",{attrs:{colspan:"2"}}),n("td",{staticClass:"subtext"},[n("span",{staticClass:"score",attrs:{id:"score_"+t.post.id}},[t._v(t._s(t.post.points)+" Point"),1!=t.post.points?n("span",[t._v("s")]):t._e()]),t._v(" by "),n("a",{attrs:{href:"/users/"+t.post.user_id}},[t._v(t._s(t.post.user_username))]),t._v(" "),n("span",{staticStyle:{"margin-right":"0.2rem"}}),n("span",{staticClass:"age"},[t._v(t._s(t.post.time_elapsed))]),t._v(" "),n("span",{attrs:{id:"unv_"+t.post.id}}),t._v(" | "),n("a",{attrs:{href:"/posts/"+t.post.id}},[0==t.post.num_comments?n("span",[t._v("discuss")]):t._e(),0!=t.post.num_comments?n("span",[t._v(t._s(t.post.num_comments)+" comment"),1!=t.post.num_comments?n("span",[t._v("s")]):t._e()]):t._e()])])]),n("tr",[n("td",{attrs:{colspan:"2"}}),n("td",["ask"==t.post.typePost?n("div",[n("p",[t._v(t._s(t.post.text))])]):t._e(),n("small",{staticClass:"comment"},[n("form",{on:{submit:t.submitComment}},[n("div",[n("p",[t._v(t._s(t.commentFormError))])]),n("div",{staticClass:"field helptext"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentFormText,expression:"commentFormText"}],attrs:{id:"commentFormText",name:"commentFormText"},domProps:{value:t.commentFormText},on:{input:function(e){e.target.composing||(t.commentFormText=e.target.value)}}})]),t._m(1)])])])])]),n("table",{staticClass:"comment-tree",staticStyle:{border:"0"}},[n("tbody",t._l(t.comments,(function(t){return n("div",{staticStyle:{"margin-left":"3rem"}},[n("AppCommentInTree",{attrs:{commentObj:t}})],1)})),0)])])},rt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("td",{staticClass:"title"},[r("span",{staticClass:"rank"})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"actions"},[r("input",{attrs:{type:"submit",value:"add comment"}})])}],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("tr",{staticClass:"athing comtr"},[n("td",[n("table",{staticStyle:{border:"0"}},[n("tbody",[n("tr",[1==t.comment.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.unvoteComment(t.comment)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=t.comment.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.voteComment(t.comment)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"default"},[n("div",{staticStyle:{"margin-top":"2px","margin-bottom":"-10px"}},[n("span",{staticClass:"comhead"},[n("a",{staticStyle:{"margin-right":"0.3rem"},attrs:{href:"/users/"+t.comment.user_id}},[t._v(t._s(t.comment.user_username))]),n("a",{attrs:{href:"/comments/"+t.comment.id}},[t._v(t._s(t.comment.time_elapsed))])])]),n("br"),n("div",{staticClass:"comment"},[n("span",{staticClass:"commtext c00"},[t._v(t._s(t.comment.text)+" "),n("div",{staticClass:"reply"},[n("p",[n("u",[n("a",{attrs:{href:"/comments/"+t.comment.id}},[t._v("reply")])])])])])])])])])])])]),t._l(t.replies,(function(t){return n("div",{staticStyle:{"margin-left":"3rem"}},[n("AppReplyInTree",{attrs:{replyObj:t}})],1)}))],2)},st=[],at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("tr",{staticClass:"athing comtr"},[n("td",[n("table",{staticStyle:{border:"0"}},[n("tbody",[n("tr",[1==t.reply.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.unvoteReply(t.reply)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=t.reply.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.voteReply(t.reply)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"default"},[n("div",{staticStyle:{"margin-top":"2px","margin-bottom":"-10px"}},[n("span",{staticClass:"comhead"},[n("a",{staticStyle:{"margin-right":"0.3rem"},attrs:{href:"/users/"+t.reply.user_id}},[t._v(t._s(t.reply.user_username))]),n("a",{attrs:{href:"/replies/"+t.reply.id}},[t._v(t._s(t.reply.time_elapsed))])])]),n("br"),n("div",{staticClass:"comment"},[n("span",{staticClass:"commtext c00"},[t._v(t._s(t.reply.text)+" "),n("div",{staticClass:"reply"},[n("p",[n("u",[n("a",{attrs:{href:"/replies/"+t.reply.id}},[t._v("reply")])])])])])])])])])]),n("table",{staticClass:"reply-tree",staticStyle:{border:"0"}},[n("tbody",t._l(t.replies,(function(t){return n("div",{staticStyle:{"margin-left":"3rem"}},[n("AppReplyInTree",{attrs:{replyObj:t}})],1)})),0)])])])])},it=[],ot={name:"AppReplyInTree",components:{AppReplyInTree:lt},props:{replyObj:Object},data:function(){return{user:localStorage.getItem("user"),replies:[],reply:{}}},methods:{getReplies:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(JSON.stringify(this.replyObj)),t.next=3,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 3:return r=t.sent,e.voted=void 0!=r.find((function(t){return t.id==e.id&&void 0!=t.parent_id})),e.time_elapsed=V(e.created_at),t.next=8,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 8:e.user_username=t.sent,f("REPLIES","GET_REPLIES",{parent_id:e.id,parent_type:"Reply"}).then((function(t){n.replies=t})),this.reply=e;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),voteReply:function(t){var e=this;f("REPLIES","VOTE_REPLY",t.id).then((function(t){e.reply.voted=!0}))},unvoteReply:function(t){var e=this;f("REPLIES","UNVOTE_REPLY",t.id).then((function(t){e.reply.voted=!1}))}},beforeMount:function(){this.getReplies()}},ct=ot,ut=(r("656c"),Object(x["a"])(ct,at,it,!1,null,null,null)),lt=ut.exports,mt={name:"AppCommentInTree",components:{AppReplyInTree:lt},props:{commentObj:Object},data:function(){return{user:JSON.parse(localStorage.getItem("user")),replies:[],comment:{}}},methods:{getReplies:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=JSON.parse(JSON.stringify(this.commentObj)),t.next=3,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 3:return r=t.sent,e.voted=void 0!=r.find((function(t){return t.id==e.id&&void 0!=t.post_id})),e.time_elapsed=V(e.created_at),t.next=8,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 8:e.user_username=t.sent,f("REPLIES","GET_REPLIES",{parent_id:e.id,parent_type:"Comment"}).then((function(t){n.replies=t})),this.comment=e;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),voteComment:function(t){var e=this;f("COMMENTS","VOTE_COMMENT",t.id).then((function(t){e.comment.voted=!0}))},unvoteComment:function(t){var e=this;f("COMMENTS","UNVOTE_COMMENT",t.id).then((function(t){e.comment.voted=!1}))}},beforeMount:function(){this.getReplies()}},pt=mt,dt=(r("d71b"),Object(x["a"])(pt,nt,st,!1,null,null,null)),_t=dt.exports,ht={name:"Post",components:{AppCommentInTree:_t},data:function(){return{user:localStorage.getItem("user"),post:{},comments:[],commentFormError:"",commentFormText:""}},methods:{getPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("POSTS","GET_POST",{post_id:this.$route.params.id}).then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("POSTS","GET_VOTED_POSTS").then((function(t){return t}));case 5:return r=t.sent,e.voted=void 0!=r.find((function(t){return t.id==e.id})),e.typePost=""==e.url?"ask":"link",e.time_elapsed=V(e.created_at),t.next=11,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 11:return e.user_username=t.sent,t.next=14,f("COMMENTS","GET_COMMENTS",{post_id:e.id}).then((function(t){return t.length}));case 14:e.num_comments=t.sent,this.post=e;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getComments:function(){var t=this;f("COMMENTS","GET_COMMENTS",{post_id:this.$route.params.id}).then((function(e){t.comments=e}))},submitComment:function(t){var e=this;if(t.preventDefault(),""!=this.commentFormText){this.commentFormError="";var r={text:this.commentFormText,post_id:this.post.id};f("COMMENTS","NEW_COMMENT",r).then((function(){e.commentFormText="",e.getComments()})).catch((function(t){e.commentFormError=t}))}else this.commentFormError="The comment can't be empty!"},votePost:function(t){var e=this;f("POSTS","VOTE_POST",t.id).then((function(t){e.getPost()}))},unvotePost:function(t){var e=this;f("POSTS","UNVOTE_POST",t.id).then((function(t){e.getPost()}))}},beforeMount:function(){this.getPost(),this.getComments()}},ft=ht,vt=(r("d9e1"),Object(x["a"])(ft,et,rt,!1,null,null,null)),gt=vt.exports,St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{on:{submit:t.aboutCheck}},[r("div",{staticClass:"labels"},[r("label",{staticClass:"formLabel",attrs:{for:"User"}},[t._v("user: ")]),t._v(" "+t._s(t.user.username)+" ")]),t.loggedUser.id==t.user.id?r("div",{staticClass:"labels"},[r("label",{staticClass:"formLabel",attrs:{for:"ApiKey"}},[t._v("Api Key: ")]),t._v(" "+t._s(t.loggedUser.apiKey)+" ")]):t._e(),r("div",{staticClass:"labels"},[r("label",{staticClass:"formLabel",attrs:{for:"Created"}},[t._v("created:")]),t._v(" "+t._s(t.user.created_atAgo)+" ")]),r("div",{staticClass:"aboutBox",staticStyle:{"margin-bottom":"0.5rem"}},[r("label",{staticClass:"formLabel",staticStyle:{"margin-right":"0rem"}},[t._v(" about: ")]),t.loggedUser.id==t.user.id?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.about,expression:"about"}],attrs:{id:"about",name:"about"},domProps:{value:t.about},on:{input:function(e){e.target.composing||(t.about=e.target.value)}}}):t._e(),t.loggedUser.id!=t.user.id?r("div",[t._v(" "+t._s(t.user.about))]):t._e(),t.loggedUser.id==t.user.id?r("label",{staticClass:"formLabel",staticStyle:{"align-self":"flex-end"}},[t._v(" help ")]):t._e(),t._v(" "),r("br")]),r("div",{staticClass:"links"},[r("div",[r("a",{attrs:{href:"/posts_user/"+t.user.id}},[r("u",[t._v("submissions")])])]),r("div",[r("a",{attrs:{href:"/comments/user/"+t.user.id}},[r("u",[t._v("comments")])])]),t.loggedUser.id==t.user.id?r("div",[t._m(0)]):t._e(),t.loggedUser.id==t.user.id?r("div",[t._m(1)]):t._e()]),r("div",[r("p",[t._v(t._s(t.error))])]),t.loggedUser.id==t.user.id?r("div",[r("input",{attrs:{type:"submit",value:"Update User"}})]):t._e()])])},bt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"/uposts"}},[r("u",[t._v("upvoted submissions")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("a",{attrs:{href:"/comments/upvoted"}},[r("u",[t._v("upvoted comments")])])}],yt={name:"User",data:function(){return{loggedUser:JSON.parse(localStorage.getItem("user")),user:{},about:"",error:""}},methods:{getUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("USERS","GET_USER",this.$route.params.id).then((function(t){return t}));case 2:e=t.sent,console.log(e),e.created_atAgo=V(e.created_at),this.user=e,this.about=e.about;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),aboutCheck:function(t){t.preventDefault(),""!=this.about?f("USERS","PUT_USER",{about:this.about}):this.error="The user can't have an empty about!"},timeAgo:function(t){var e=Date.now()-new Date(t);e=Math.floor(e/1e3);var r=e/31536e3;return r>1?Math.floor(r)+" years":(r=e/2592e3,r>1?Math.floor(r)+" months":(r=e/86400,r>1?Math.floor(r)+" days":(r=e/3600,r>1?Math.floor(r)+" hours":(r=e/60,r>1?Math.floor(r)+" minutes":Math.floor(e)+" seconds"))))}},beforeMount:function(){this.getUser()}},Et=yt,Tt=(r("e9ac"),Object(x["a"])(Et,St,bt,!1,null,"7c34e49a",null)),Ct=Tt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"itemlist",staticStyle:{border:"0"},attrs:{cellpadding:"0"}},[n("tbody",t._l(this.comments,(function(e,s){return n("div",[n("tr",{staticClass:"athing comtr",attrs:{id:e.id}},[n("td",{staticClass:"title",staticStyle:{"align-self":"right"}},[n("span",{staticClass:"rank"},[t._v(t._s(s)+".")])]),1==e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.unvoteComment(e)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.voteComment(e)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"default"},[n("span",{staticClass:"comhead"},[n("span",{staticClass:"score",attrs:{id:"score_"+e.id}},[t._v(t._s(e.votes)+" Point"),1!=e.votes?n("span",[t._v("s")]):t._e()]),t._v(" by "),n("a",{attrs:{href:"/users/"+e.user_id}},[n("span",{attrs:{color:"#3c963c"}},[t._v(t._s(e.user_username))])]),n("span",{staticClass:"age"},[e.parent_id?t._e():n("a",{attrs:{href:"/comments/"+e.id}},[t._v(" "+t._s(e.time_elapsed)+" ago")]),e.parent_id?n("a",{attrs:{a:"",href:"/replies/"+e.id}},[t._v(" "+t._s(e.time_elapsed)+" ago")]):t._e()]),n("span",{staticClass:"par"},[t._v(" | "),e.parent_id?t._e():n("a",{attrs:{href:"/posts/"+e.post_id}},[t._v("parent")])]),e.parent_id?n("a",{attrs:{href:"/comments/"+e.parent_id}},[t._v("parent")]):t._e()]),n("span",{staticClass:"storyon"},[t._v(" | on: "),e.parent_id?t._e():n("a",{attrs:{href:"/posts/"+e.post_id}},[t._v(" "+t._s(e.parentText)+" ")]),e.parent_id?n("a",{attrs:{href:"/comments/"+e.parent_id}},[t._v(t._s(e.parentText))]):t._e()]),n("br"),n("div",{staticClass:"comment"},[n("span",{staticClass:"commtext c00"},[t._v(" "+t._s(e.text)+" ")]),n("div",{staticClass:"reply"},[n("p",[n("font",{attrs:{size:"1"}},[n("u",[e.parent_id?t._e():n("a",{attrs:{href:"/comments/"+e.id}},[t._v("reply")]),e.parent_id?n("a",{attrs:{href:"/replies/"+e.id}},[t._v("reply")]):t._e()])])],1)])])])]),n("tr",{staticClass:"spacer",staticStyle:{height:"5px"}})])})),0)])},xt=[],Pt={name:"Threads",data:function(){return{user:JSON.parse(localStorage.getItem("user")),comments:[]}},methods:{getComments:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=[],"CommentsUser"!=this.$route.name){t.next=7;break}return t.next=4,f("COMMENTS","GET_COMMENTS",{user_id:this.$route.params.id}).then((function(t){return t}));case 4:e=t.sent,t.next=17;break;case 7:if("Threads"!=this.$route.name){t.next=13;break}return t.next=10,f("COMMENTS","GET_COMMENTS",{user_id:this.user.id}).then((function(t){return t}));case 10:e=t.sent,t.next=17;break;case 13:if("Comments_voted"!=this.$route.name){t.next=17;break}return t.next=16,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 16:e=t.sent;case 17:return t.next=19,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 19:return r=t.sent,t.next=22,Promise.all(e.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.voted=void 0!=r.find((function(t){return t.id==e.id})),e.typeParent=e.id_post?"post":"comment",e.time_elapsed=V(e.created_at),t.next=5,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 5:if(e.user_username=t.sent,!e.parent_id){t.next=13;break}return t.next=9,f("COMMENTS","GET_COMMENT",{comment_id:e.parent_id}).then((function(t){return t}));case 9:n=t.sent,e.parentText=n.text,t.next=17;break;case 13:return t.next=15,f("POSTS","GET_POST",{post_id:e.post_id}).then((function(t){return t}));case 15:s=t.sent,e.parentText=s.text;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 22:this.comments=e;case 23:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),voteComment:function(t){var e=this;f("COMMENTS","VOTE_COMMENT",t.id).then((function(t){e.getComments()}))},unvoteComment:function(t){var e=this;f("COMMENTS","UNVOTE_COMMENT",t.id).then((function(t){e.getComments()}))}},beforeMount:function(){this.getComments()}};var wt=Pt,Rt=(r("36b0"),Object(x["a"])(wt,Ot,xt,!1,null,null,null)),Mt=Rt.exports,At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"fatitem",attrs:{border:"0"}},[n("tbody",[n("tr",{staticClass:"athing"},[1==t.comment.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.unvoteComment(t.comment)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=t.comment.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.voteComment(t.post)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"default"},[n("div",{staticStyle:{"margin-top":"2px","margin-bottom":"-10px"}},[n("span",{staticClass:"comhead"},[n("a",{attrs:{href:"/user/"+t.comment.user_id}},[t._v(t._s(t.comment.user_username)+" ")]),n("span",{staticClass:"age"},[t._v(t._s(t.comment.time_elapsed))]),n("span",[t._v("| on: "),n("a",{attrs:{href:"/posts/"+t.comment.post_id}},[t._v(t._s(t.comment.post_title))])])])]),n("br"),n("div",{staticClass:"comment"},[n("span",{staticClass:"commtext c00"},[t._v(t._s(t.comment.text)+" "),n("div",{staticClass:"reply"})])])])]),n("tr",[n("td",{attrs:{colspan:"1"}}),n("td",[n("small",{staticClass:"comment"},[n("form",{on:{submit:t.submitReply}},[n("div",[n("p",[t._v(t._s(t.replyFormError))])]),n("div",{staticClass:"field helptext"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyFormText,expression:"replyFormText"}],attrs:{id:"replyFormText",name:"replyFormText"},domProps:{value:t.replyFormText},on:{input:function(e){e.target.composing||(t.replyFormText=e.target.value)}}})]),t._m(0)])])])])])]),n("table",{staticClass:"reply-tree",staticStyle:{border:"0"}},[n("tbody",t._l(t.replies,(function(t){return n("div",{staticStyle:{"margin-left":"3rem"}},[n("AppReplyInTree",{attrs:{replyObj:t}})],1)})),0)])])},kt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"actions"},[r("input",{attrs:{type:"submit",value:"Submit Reply"}})])}],Nt={name:"Comment",components:{AppReplyInTree:lt},data:function(){return{user:localStorage.getItem("user"),comment:{},replies:[],replyFormError:"",replyFormText:""}},methods:{getComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("COMMENTS","GET_COMMENT",{comment_id:this.$route.params.id}).then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 5:return r=t.sent,e.voted=void 0!=r.find((function(t){return t.id==e.id&&void 0!=t.post_id})),e.time_elapsed=V(e.created_at),t.next=10,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 10:return e.user_username=t.sent,t.next=13,f("REPLIES","GET_REPLIES",{parent_id:e.id,parent_type:"Comment"}).then((function(t){return n.replies=t,t.length}));case 13:return e.num_replies=t.sent,t.next=16,f("POSTS","GET_POST",{post_id:e.post_id}).then((function(t){return t.title}));case 16:e.post_title=t.sent,this.comment=e;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitReply:function(t){var e=this;if(t.preventDefault(),""!=this.replyFormText){this.replyFormError="";var r={text:this.replyFormText,parent_id:this.$route.params.id,parent_type:"Comment"};f("REPLIES","NEW_REPLY",r).then((function(){e.$router.push("/posts/"+e.comment.post_id)})).catch((function(t){e.error=t}))}else this.commentFormError="The comment can't be empty!"}},beforeMount:function(){this.getComment()}},Ut=Nt,Gt=(r("358a"),Object(x["a"])(Ut,At,kt,!1,null,null,null)),It=Gt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"fatitem",attrs:{border:"0"}},[n("tbody",[n("tr",{staticClass:"athing"},[1==t.reply.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.unvoteReply(t.reply)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=t.reply.voted?n("td",{staticClass:"votelinks",attrs:{valign:"top"}},[n("span",{on:{click:function(e){return t.voteReply(t.post)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"default"},[n("div",{staticStyle:{"margin-top":"2px","margin-bottom":"-10px"}},[n("span",{staticClass:"comhead"},[n("a",{attrs:{href:"/user/"+t.reply.user_id}},[t._v(t._s(t.reply.user_username)+" ")]),n("span",{staticClass:"age"},[t._v(t._s(t.reply.time_elapsed))]),n("span",[t._v("| on: "),n("a",{attrs:{href:"/posts/"+t.post.id}},[t._v(t._s(t.post.title))])])])]),n("br"),n("div",{staticClass:"reply"},[n("span",{staticClass:"commtext c00"},[t._v(t._s(t.reply.text)+" "),n("div",{staticClass:"reply"})])])])]),n("tr",{staticStyle:{height:"10px"}}),n("tr",[n("td",{attrs:{colspan:"1"}}),n("td",[n("small",{staticClass:"reply"},[n("form",{on:{submit:t.submitReply}},[n("div",[n("p",[t._v(t._s(t.replyFormError))])]),n("div",{staticClass:"field helptext"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyFormText,expression:"replyFormText"}],attrs:{id:"replyFormText",name:"replyFormText"},domProps:{value:t.replyFormText},on:{input:function(e){e.target.composing||(t.replyFormText=e.target.value)}}})]),t._m(0)])])])])])]),n("table",{staticClass:"reply-tree",staticStyle:{border:"0"}},[n("tbody",t._l(t.replies,(function(t){return n("div",{staticStyle:{"margin-left":"3rem"}},[n("AppReplyInTree",{attrs:{replyObj:t}})],1)})),0)])])},Lt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"actions"},[r("input",{attrs:{type:"submit",value:"Submit Reply"}})])}],Ft={name:"Reply",components:{AppReplyInTree:lt},data:function(){return{user:localStorage.getItem("user"),reply:{},replies:[],post:{},replyFormError:"",replyFormText:""}},methods:{getReply:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("REPLIES","GET_REPLY",{reply_id:this.$route.params.id}).then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("COMMENTS","GET_VOTED_COMMENTS").then((function(t){return t}));case 5:return r=t.sent,e.voted=void 0!=r.find((function(t){return t.id==e.id&&void 0!=t.parent_id})),e.time_elapsed=V(e.created_at),t.next=10,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 10:return e.user_username=t.sent,t.next=13,f("REPLIES","GET_REPLIES",{parent_id:this.$route.params.id,parent_type:"Reply"}).then((function(t){return n.replies=t,t.length}));case 13:return e.num_replies=t.sent,t.next=16,f("REPLIES","GET_POST",{reply_id:this.$route.params.id}).then((function(t){return t}));case 16:this.post=t.sent,this.reply=e;case 18:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submitReply:function(t){var e=this;if(t.preventDefault(),""!=this.replyFormText){this.replyFormError="";var r={text:this.replyFormText,parent_id:this.$route.params.id,parent_type:"Reply"};f("REPLIES","NEW_REPLY",r).then((function(){e.$router.push("/posts/"+e.post.id)})).catch((function(t){e.error=t}))}else this.commentFormError="The reply can't be empty!"}},beforeMount:function(){this.getReply()}},$t=Ft,Dt=(r("c3c6"),Object(x["a"])($t,jt,Lt,!1,null,null,null)),Vt=Dt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"itemlist",staticStyle:{border:"0"},attrs:{cellpadding:"0"}},[n("tbody",t._l(this.posts,(function(e,s){return n("div",[1==e.voted?n("div",[n("tr",{staticClass:"athing",attrs:{id:e.id}},[n("td",{staticClass:"title",staticStyle:{"align-self":"right"}},[n("span",{staticClass:"rank"},[t._v(t._s(s)+".")])]),n("span",{on:{click:function(r){return t.unvotePost(e)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}}),n("td",{staticClass:"title"},["ask"==e.typePost?n("a",{attrs:{href:"/posts/"+e.id}},[t._v(t._s(e.title))]):t._e(),"ask"!=e.typePost?n("a",{attrs:{href:e.url}},[t._v(t._s(e.title)),n("span",{staticClass:"sitebit comhead"},[t._v(" ("),n("span",{staticClass:"sitestr"},[t._v(t._s(e.url))]),t._v(")")])]):t._e()])]),n("tr",[n("td",{attrs:{colspan:"2"}}),n("td",{staticClass:"subtext"},[n("span",{staticClass:"score",attrs:{id:"score_"+e.id}},[t._v(t._s(e.points)+" Point"),1!=e.points?n("span",[t._v("s")]):t._e()]),t._v(" by "),n("a",{attrs:{href:"/user/"+e.user_id}},[t._v(t._s(e.user_username))]),t._v(" "),n("span",{staticStyle:{"margin-right":"0.2rem"}}),n("span",{staticClass:"age"},[t._v(t._s(e.time_elapsed))]),t._v(" "),n("span",{attrs:{id:"unv_"+e.id}}),t._v(" | "),n("a",{attrs:{href:"/posts/"+e.id}},[0==e.num_comments?n("span",[t._v("discuss")]):t._e(),0!=e.num_comments?n("span",[t._v(t._s(e.num_comments)+" comment"),1!=e.num_comments?n("span",[t._v("s")]):t._e()]):t._e()])])]),n("tr",{staticClass:"spacer",staticStyle:{height:"5px"}})]):t._e()])})),0)])},Jt=[];function Kt(t){var e=(new Date).getTime(),r=new Date(t).getTime(),n=e-r,s=parseInt(n/864e5);if(s>0)return s+" day"+(1!=s?"s":"")+" ago";var a=parseInt(n/36e5);if(a>0)return a+" hour"+(1!=a?"s":"")+" ago";var i=parseInt(n/6e4);return i>0?i+" minute"+(1!=i?"s":"")+" ago":void 0}var qt={name:"UpvotedPost",data:function(){return{user:JSON.parse(localStorage.getItem("user")),posts:[]}},methods:{getPosts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("POSTS","GET_POSTS").then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("POSTS","GET_VOTED_POSTS").then((function(t){return t}));case 5:return r=t.sent,t.next=8,Promise.all(e.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.voted=void 0!=r.find((function(t){return t.id==e.id})),e.typePost=""==e.url?"ask":"link",e.time_elapsed=Kt(e.created_at),t.next=5,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 5:return e.user_username=t.sent,t.next=8,f("COMMENTS","GET_COMMENTS",{post_id:e.id}).then((function(t){return t.length}));case 8:e.num_comments=t.sent;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:e.sort((function(t,e){return e.points-t.points})),this.posts=e;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),votePost:function(t){var e=this;f("POSTS","VOTE_POST",t.id).then((function(t){e.getPosts()}))},unvotePost:function(t){var e=this;f("POSTS","UNVOTE_POST",t.id).then((function(t){e.getPosts()}))}},mounted:function(){this.getPosts()}},Ht=qt,Qt=(r("29fc"),Object(x["a"])(Ht,Yt,Jt,!1,null,null,null)),Wt=Qt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"itemlist",staticStyle:{border:"0"},attrs:{cellpadding:"0"}},[n("tbody",t._l(this.posts,(function(e,s){return n("div",[n("tr",{staticClass:"athing",attrs:{id:e.id}},[n("td",{staticClass:"title",staticStyle:{"align-self":"right"}},[n("span",{staticClass:"rank"},[t._v(t._s(s)+".")])]),1==e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.unvotePost(e)}}},[n("img",{staticStyle:{transform:"scaleY(-1)"},attrs:{src:r("eb40"),width:"10",height:"10"}})]),n("img",{attrs:{src:"s.gif",width:"1",height:"1"}})]):t._e(),1!=e.voted?n("td",{staticClass:"votelinks"},[n("span",{on:{click:function(r){return t.votePost(e)}}},[n("img",{attrs:{src:r("eb40"),width:"10",height:"10"}})])]):t._e(),n("td",{staticClass:"title"},["ask"==e.typePost?n("a",{attrs:{href:"/posts/"+e.id}},[t._v(t._s(e.title))]):t._e(),"ask"!=e.typePost?n("a",{attrs:{href:e.url}},[t._v(t._s(e.title)),n("span",{staticClass:"sitebit comhead"},[t._v(" ("),n("span",{staticClass:"sitestr"},[t._v(t._s(e.url))]),t._v(")")])]):t._e()])]),n("tr",[n("td",{attrs:{colspan:"2"}}),n("td",{staticClass:"subtext"},[n("span",{staticClass:"score",attrs:{id:"score_"+e.id}},[t._v(t._s(e.points)+" Point"),1!=e.points?n("span",[t._v("s")]):t._e()]),t._v(" by "),n("a",{attrs:{href:"/users/"+e.user_id}},[t._v(t._s(e.user_username))]),n("span",{staticStyle:{"margin-right":"0.2rem"}}),n("span",{staticClass:"age"},[t._v(t._s(e.time_elapsed))]),n("span",{attrs:{id:"unv_"+e.id}}),t._v(" | "),n("a",{attrs:{href:"/posts/"+e.id}},[0==e.num_comments?n("span",[t._v("discuss")]):t._e(),0!=e.num_comments?n("span",[t._v(t._s(e.num_comments)+" comment"),1!=e.num_comments?n("span",[t._v("s")]):t._e()]):t._e()])])]),n("tr",{staticClass:"spacer",staticStyle:{height:"5px"}})])})),0)])},zt=[],Xt={name:"Posts",data:function(){return{user:JSON.parse(localStorage.getItem("user")),posts:[]}},methods:{getPosts:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f("POSTS","GET_POSTS",{user_id:this.$route.params.id}).then((function(t){return t}));case 2:return e=t.sent,t.next=5,f("POSTS","GET_VOTED_POSTS").then((function(t){return t}));case 5:return r=t.sent,t.next=8,Promise.all(e.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.voted=void 0!=r.find((function(t){return t.id==e.id})),e.typePost=""==e.url?"ask":"link",e.time_elapsed=V(e.created_at),t.next=5,f("USERS","GET_USER",e.user_id).then((function(t){return t.username}));case 5:return e.user_username=t.sent,t.next=8,f("COMMENTS","GET_COMMENTS",{post_id:e.id}).then((function(t){return t.length}));case 8:e.num_comments=t.sent;case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 8:this.posts=e;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),votePost:function(t){var e=this;f("POSTS","VOTE_POST",t.id).then((function(t){e.getPosts()}))},unvotePost:function(t){var e=this;f("POSTS","UNVOTE_POST",t.id).then((function(t){e.getPosts()}))}},beforeMount:function(){this.getPosts()}},Zt=Xt,te=(r("4585"),Object(x["a"])(Zt,Bt,zt,!1,null,null,null)),ee=te.exports;n["a"].use(F["a"]);var re=[{path:"/",name:"Home",component:Q},{path:"/newest",name:"Newest",component:Q},{path:"/comments/upvoted",name:"Comments_voted",component:Mt},{path:"/ask",name:"Ask",component:Q},{path:"/submit",name:"Submit",component:tt},{path:"/posts/:id",name:"Post",component:gt},{path:"/comments/:id",name:"Comment",component:It},{path:"/users/:id",name:"User",component:Ct},{path:"/threads",name:"Threads",component:Mt},{path:"/uposts",name:"UpvotedPost",component:Wt},{path:"/replies/:id",name:"Reply",component:Vt},{path:"/posts_user/:id",name:"Posts",component:ee},{path:"/comments/user/:id",name:"CommentsUser",component:Mt}],ne=new F["a"]({mode:"history",base:"/",routes:re}),se=ne;n["a"].config.productionTip=!1,new n["a"]({Vuex:s["a"],router:se,render:function(t){return t(L)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"656c":function(t,e,r){"use strict";r("02ed")},"77b5":function(t,e,r){"use strict";r("d715")},7896:function(t,e,r){},"7c0d":function(t,e,r){"use strict";r("284b")},"9c0c":function(t,e,r){},b61c:function(t,e,r){},c321:function(t,e,r){},c3c6:function(t,e,r){"use strict";r("2b8c")},c6cde:function(t,e,r){"use strict";r("ed09")},d40d:function(t,e,r){"use strict";r("47e2")},d715:function(t,e,r){},d71b:function(t,e,r){"use strict";r("c321")},d9e1:function(t,e,r){"use strict";r("3780")},e9ac:function(t,e,r){"use strict";r("b61c")},eb40:function(t,e){t.exports="data:image/gif;base64,R0lGODlhCgAKALMJANPT06enp/b29r+/v52dnfn5+bq6usLCwpqamv///wAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAAkALAAAAAAKAAoAAAQcMMlJq712GIzQDV1QFV0nUETZTYDaAdIhz3ISAQA7"},ed09:function(t,e,r){},f1a8:function(t,e,r){},f274:function(t,e){t.exports="data:image/gif;base64,R0lGODlhEgASAKIAAP/jyvihV/aKLfmxc/////9mAAAAAAAAACH5BAAAAAAALAAAAAASABIAAAMpWLrc/jDKOQkRy8pBhuKeRAAKQFBBxwVUYY5twXVxodV3nLd77f9ASQIAOw=="},fbdf:function(t,e,r){}});
//# sourceMappingURL=app.314b756f.js.map